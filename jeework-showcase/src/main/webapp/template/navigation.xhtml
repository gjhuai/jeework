<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:shiro="http://shiro.apache.org/tags">

 
	<ul id="nav">
		<c:forEach var="keyResouce" items="${loginBean.allResList[2]}" varStatus="topMenuStatus">
			<c:if test="${sessionScope.selectId==keyResouce.parentId}">
				<li>
					<c:set var="keyName" value="view:#{keyResouce.keyName}"/>
					<shiro:hasPermission name="${keyName}">
						<a id="#{keyResouce.number}" href="#">#{keyResouce.name}</a>
						<ul>
							<c:forEach var="child" items="${loginBean.allResList[3]}">
								<shiro:hasPermission name="view:${child.keyName}">
									<c:if test="#{(keyResouce.id==child.parentId) and child.ismenu}">
										<li id="#{child.number}">
											<a id="#{child.number}" href="#{request.contextPath}#{child.url}">#{child.name}</a>
										</li>
									</c:if>
								</shiro:hasPermission>
							</c:forEach>
						</ul>
					</shiro:hasPermission>
				</li>
			</c:if>
		</c:forEach>
	</ul>
	

</ui:composition>
